---
title: 比特币到底是什么？它的原理是什么？
author: azoux
tags:
 - 区块链
 - 比特币
date: 2021-02-12
categories:
 - 其他知识
---


## 比特币 数字货币

最近看了李永乐老师的[比特币视频](https://www.youtube.com/watch?v=g_fSistU3MQ) 
<br />
本博客仅为我学习李永乐老师视频的记录

### 比特币是什么？

2008年由中本聪的《白皮书》提出了比特币。简单来说，比特币是一种去`中心化的电子记账系统`。平常的交易系统，背后其实是通过银行来记录你每一笔的交易记录。
那么比特币作为一种去中心化的电子记账系统，它是通过由一个人向所有人进行在网络上进行广播来达到记账的一个目的。
假如有四个人，他们之间通过比特币互相发生交易，这样就会产生许多交易记录，这项交易记录集合起来就称为一个区块（4000条）。

那么这就有了几个问题：
  1. 要以谁为准
  2. 为何要记账
  3. 防伪
  4. 如何保密
  5. and so on...

### 为什么要记账？

  这个...当然是因为`记账有奖励啊`hhhh...
  <br />
  记账的奖励就是比特币了，按照中本聪在白皮书中提出的，进行一次交易，交易方需要付出一点手续费，并且将交易的记录打包作为区块的人可以获得打包奖励（``只能是一个人``）
  最开始，中本聪设计的是十分钟打包一次，并且打包奖励一开始是50个比特币，并且每四年之后会减半。如果我们简单算一下的话，会发现比特币一共就2100万个。它是通过打包奖励将其扩散出去的
  <br />
  那既然打包有奖励，大家都抢着去打包，那么就有下一个问题，以谁为准呢？

### 以谁为准？

  中本聪想出来一个办法，就是`工作量证明`，每个要进行打包的人，都要去解一道数学题，谁先解出来谁就有资格去获得奖励。
  <br />
  这个数学题，可想而知是一道非常难的问题了，难道没有办法用脑子算出来，只能一个个数去试，这个过程就称为`挖矿`。


## 挖矿原理

### 哈希函数

  简单来说是通过`哈希函数`来对一个字符串进行加密。这个的意思就是我们可以把一个字符串通过一定的运算转化成一个摘要的形式。
  而且这个的特点是正着算比较容易，反着算很难。可以理解成知道x算y容易，但是知道y算x却很难。
  <br />
  例如SHA256这个算法，如果我们将一个字符串输入，那么它将会输出一个256位的二进制数，并且你输入的字符串改变都会改变输出的结果。
  `挖矿就是基于SHA256的运算`

### 原理

  假设区块链已经链到了某一个块，那么你现在要打包一个块，一个块里面不仅包括交易信息，还有头部信息。
  <br />
  现在有很多人拿着账单要去网上接块，他们需要先算一个数学题。

#### 这是一个什么数学题呢？

  <br />
  
  1. 字符串： 前块头 + 账单 + 时间戳 + 随机数
  2. Hash = sha256(sha256(字符串))
  3. 要求Hash的前n位必须是0: 0000....

  `假如你算出来一个数符合前n位是0的哈希值，那么你就有资格打包`
  <br />
  那这之后呢..你就拿你算出来的这个哈希值作为新的块的头部，加上交易信息，作为新块，接到区块链上。然后你就获得了奖励。
  <br />
  从上面算Hash值的表达式中我们可与看到，我们能改变的只有随机数，所以就只能修改随机数一个个去试，直到你试出来为止。
  <br />
  每个人在算的时候，难度是不一样的，因为你所记录的账单可能是不同的，并且开始时间也是不同的，个人信息也是不同的，所以就造成了随机数的大小不同


  ### 难度n的确定

  前面说到算出的数要符合前面n位为0的要求，这个n的长度越长，难度就越大，概率是(1/2)^n
  <br />
  调整n的大小去保证每十分钟可以出一个块